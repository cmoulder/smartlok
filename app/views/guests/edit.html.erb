<!-- Validation failure messages -->
<% if @guest.errors.any? %>
  <% @guest.errors.full_messages.each do |message| %>
    <div class="alert alert-dismissable alert-danger">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <%= message %>
    </div>
  <% end %>
<% end %>

<div class="page-header">
  <h3>Edit Guest #<%= @guest.name %></h3>
</div>

<div class="row">
  <div class="col-md-12">
<u>Details</u>
    <form action="/update_guest/<%= @guest.id %>" method="post">
      <!-- Hidden input for authenticity token to protect from forgery -->
      <input name="authenticity_token" type="hidden" value="<%= form_authenticity_token %>">



      <!-- Label and input for name -->

      <div class="form-group">
        <label for="name" class="control-label">
          Name
        </label>


        <input type="text" id="name" name="name" placeholder="Name" class="form-control" value="<%= @guest.name %>">

      </div>



      <!-- Label and input for accesscode -->

      <div class="form-group">
        <label for="accesscode" class="control-label">
          Accesscode
        </label>


        <input type="text" id="accesscode" name="accesscode" placeholder="Accesscode" class="form-control" value="<%= @guest.accesscode %>">

      </div>



      <!-- Label and input for entrycount -->

      <div class="form-group">
        <label for="entrycount" class="control-label">
          Entrycount
        </label>


        <input type="text" id="entrycount" name="entrycount" placeholder="Entrycount" class="form-control" value="<%= @guest.entrycount %>">

      </div>



      <!-- Label and input for allowedcount -->

      <div class="form-group">
        <label for="allowedcount" class="control-label">
          Allowedcount
        </label>


        <input type="text" id="allowedcount" name="allowedcount" placeholder="Allowedcount" class="form-control" value="<%= @guest.allowedcount %>">

      </div>



      <!-- Label and input for unrestricted -->

      <div class="checkbox">
        <label for="unrestricted">
          <input type="checkbox" id="unrestricted" name="unrestricted" value="1" <%= "checked" if @guest.unrestricted %>>
          Unrestricted Schedule (Must check box if not creating a schedule)
        </label>
      </div>

      <div class="row">
        <div class="col-md-12">
          <u>Schedule</u>
          <table class="table table-striped table-hover">
            <tr>

              <th>Day</th>

              <th>Start time</th>

              <th>Stop time</th>

              <th>Actions</th>
            </tr>

<tr>
  <form action="/create_schedule" method="post">
      <!-- Hidden input for authenticity token to protect from forgery -->
      <input name="authenticity_token" type="hidden" value="<%= form_authenticity_token %>">



      <!-- Label and input for guest_id -->

      <div class="form-group">
        <label for="guest_id" class="control-label">
        </label>


        <input type="hidden" id="guest_id" name="guest_id" placeholder="Guest" class="form-control" value="<%= @guest.id %>">

      </div>


<td>
      <!-- Label and input for day -->

      <div class="form-group">
        <label for="day" class="control-label">
        </label>

        <select name="day" id="day" class="form-control">
         <option value="Sunday">Sunday</option>
         <option value="Monday">Monday</option>
         <option value="Tuesday">Tuesday</option>
         <option value="Wednesday">Wednesday</option>
         <option value="Thursday">Thursday</option>
         <option value="Friday">Friday</option>
         <option value="Saturday">Saturday</option>
       </select>

        <!-- <input type="text" id="day" name="day" placeholder="Day" class="form-control" value=""> -->

      </div>

</td>
<td>
      <!-- Label and input for start_time -->

      <div class="form-group">
        <label for="start_time" class="control-label">
        </label>


        <input type="text" id="start_time" name="start_time" placeholder="Start time" class="form-control" value="">

      </div>
</td>
<td>

      <!-- Label and input for stop_time -->

      <div class="form-group">
        <label for="stop_time" class="control-label">
        </label>


        <input type="text" id="stop_time" name="stop_time" placeholder="Stop time" class="form-control" value="">
</td>
      </div>

<td>

      <button class="btn btn-success">
        Add
      </button>
</td>
    </form>



</tr>
            <% @schedules.each do |schedule| %>
            <tr>

              <td><%= schedule.day %></td>

              <td><%= schedule.start_time.strftime("%I:%M %p") %></td>

              <td><%= schedule.stop_time.strftime("%I:%M %p") %></td>

              <td>

                <a href="/schedules/<%= schedule.id %>/edit" class="btn btn-info">Edit</a>
                <a href="/delete_schedule/<%= schedule.id %>" class="btn btn-danger" rel="nofollow">Delete</a>


              </td>
            </tr>
            <% end %>
          </table>
        </div>
      </div>



      <button class="btn btn-warning">
        Update Guest
      </button>
      or

      <a href="/guests/">Cancel</a>


    </form>

  </div>
</div>
